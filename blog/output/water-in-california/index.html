<!DOCTYPE html>
<html itemscope itemtype="http://schema.org/WebPage" lang="en-us">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">

        <meta name="viewport" content="width=device-width, initial-scale=1">

        <title>Water in California</title>
        <meta name="description" content="Visualizing changes in California's water supply across each of its 191 reservoirs.">

        <style type="text/css">
*{-webkit-box-sizing:border-box;-moz-box-sizing:border-box;-ms-box-sizing:border-box;-o-box-sizing:border-box;box-sizing:border-box}html,body{margin:0;padding:0}html{font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Helvetica,Arial,sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol";font-weight:300;font-size:16px;line-height:1.5}@media (min-width: 58em){html{font-size:20px}}body{color:rgba(0,0,0,0.87);background-color:#fff;-webkit-text-size-adjust:100%;-moz-text-size-adjust:100%;-ms-text-size-adjust:100%;text-rendering:optimizeLegibility}a{color:rgba(33,150,243,0.87);text-decoration:none;-webkit-transition:color 250ms ease;-moz-transition:color 250ms ease;-ms-transition:color 250ms ease;-o-transition:color 250ms ease;transition:color 250ms ease}a strong{color:inherit}a:hover,a:focus{color:rgba(43,90,172,0.87)}h1,h2,h3,h4,h5,h6{margin-bottom:.5rem;font-weight:400;line-height:1.25}h1{font-size:2rem}h2{margin-top:1rem;font-size:1.5rem}h3{margin-top:1.5rem;font-size:1.25rem}h4,h5,h6{margin-top:1rem;font-size:1rem}p{margin-top:0;margin-bottom:1rem}ul,ol,dl{margin-top:0;margin-bottom:1rem}dt{font-weight:400}dd{margin-bottom:.5rem}.list-unstyled{padding-left:0;list-style:none}code,pre{font-family:"SFMono-Regular",Consolas,"Liberation Mono",Menlo,Courier,monospace;text-rendering:optimizeSpeed}code{font-weight:700;font-size:90%}pre{font-weight:400;display:block;margin-top:0;margin-bottom:1rem;padding:1rem;font-size:.8rem;line-height:1.4;overflow:auto;word-wrap:normal;white-space:pre;background-color:rgba(0,0,0,0.05)}pre code{padding:0;font-size:100%;color:inherit;background-color:transparent}blockquote{padding:.5rem 1rem;margin:.8rem 0;color:rgba(0,0,0,0.54);border-left:0.25rem solid rgba(0,0,0,0.12)}blockquote p:last-child{margin-bottom:0}@media (min-width: 30em){blockquote{padding-right:5rem;padding-left:1.25rem}}img,video{display:block;max-width:100%;margin:0 0 1rem}table{margin-bottom:1rem;width:100%;background-color:transparent;border-collapse:collapse}th,td{padding:0.3rem;vertical-align:top;border-top:1px solid #eceeef;text-align:left}.rows th{width:30%}.rows td{width:70%}.rows tr:first-child th,.rows tr:first-child td{border-top:none}hr{position:relative;margin:1.5rem 0;border:0;border-top:1px solid rgba(0,0,0,0.12);border-bottom:1px solid #fff}abbr{font-size:85%;font-weight:400;color:rgba(0,0,0,0.87);text-transform:uppercase}abbr[title]{cursor:help;border-bottom:1px dotted rgba(0,0,0,0.12)}.lead{margin-bottom:1rem;font-size:1.2rem;font-weight:300}.message{margin-bottom:1rem;padding:1rem;color:rgba(0,0,0,0.54);background-color:rgba(0,0,0,0.05)}.title{margin-bottom:0}.container{max-width:38rem;padding-left:1rem;padding-right:1rem;margin-left:auto;margin-right:auto}.content{padding-top:2rem;padding-bottom:2rem}@media (min-width: 58em){.content{max-width:38rem;margin-left:20rem;margin-right:2rem;padding-top:3rem;padding-bottom:3rem}}@media (min-width: 64em){.content{margin-left:22rem;margin-right:4rem;padding-top:3rem;padding-bottom:3rem}}@media not print{.print-resume-intro{display:none}}@media print{html{font-size:12px}.content{max-width:100%;margin:0rem 3rem;padding:0}.sidebar,.web-resume-intro{display:none}}.post,.page{margin-bottom:2em}.post-title,.post-title a,.page-title{font-weight:400;color:rgba(0,0,0,0.87);-webkit-transition:color 250ms ease;-moz-transition:color 250ms ease;-ms-transition:color 250ms ease;-o-transition:color 250ms ease;transition:color 250ms ease}.post-title a:hover,.post-title a:focus{color:rgba(33,150,243,0.87)}.post-title,.page-title{margin-top:0}.post-date{display:block;margin-top:-.5rem;margin-bottom:1rem;color:rgba(0,0,0,0.54)}.coffee{font-weight:400}.related{padding-top:1rem;font-weight:400;border-top:1px solid rgba(0,0,0,0.12)}.related-posts{padding-left:0;list-style:none}.related-posts h3{margin-top:0}.related-posts li small{font-weight:300;font-size:75%;color:rgba(0,0,0,0.54)}.project{margin-top:1rem;margin-bottom:1.5rem}.project-title a{font-weight:400}.sidebar{text-align:center;padding:1rem 1rem;color:rgba(255,255,255,0.54);background-color:#000}.logo{height:5rem;display:block;margin:0 auto 1rem}@media (min-width: 58em){.sidebar{position:fixed;top:0;left:0;bottom:0;width:18rem;text-align:left}.logo{height:15rem;margin-left:0}}.sidebar-about h1 a{margin-top:0}.sidebar a{color:rgba(255,255,255,0.87);-webkit-transition:color 250ms ease;-moz-transition:color 250ms ease;-ms-transition:color 250ms ease;-o-transition:color 250ms ease;transition:color 250ms ease}.sidebar a:hover,.sidebar a:focus{color:#fff}.sidebar-nav{margin-bottom:1rem}.sidebar-nav-item{display:block;line-height:1.75}.sidebar-nav-item.active{font-weight:400}@media (min-width: 58em){.sidebar-sticky{position:absolute;right:1rem;bottom:1rem;left:1rem}}.tagline{display:none}@media (min-width: 58rem){.tagline{display:block}}#menu-icon{display:none}.collapsable{display:none;padding-top:0.5rem}input[type=checkbox]:checked ~ .collapsable{display:block}input[type=checkbox] ~ .menu-label:after{content:"Menu"}input[type=checkbox]:checked ~ .menu-label:after{content:"Collapse"}@media (min-width: 58rem){.menu-label{display:none}.collapsable{display:block;padding-top:inherit}}.copyright{display:none}@media (min-width: 58rem){.copyright{font-size:0.75em;font-weight:100;display:block}}.blue-grey-theme .sidebar{background-color:#607d8b}.blue-grey-theme .post-title a,.blue-grey-theme .project-title a,.blue-grey-theme .related-posts a{color:rgba(96,125,139,0.87);-webkit-transition:color 250ms ease;-moz-transition:color 250ms ease;-ms-transition:color 250ms ease;-o-transition:color 250ms ease;transition:color 250ms ease}.blue-grey-theme .post-title a:hover,.blue-grey-theme .post-title a:focus,.blue-grey-theme .project-title a:hover,.blue-grey-theme .project-title a:focus,.blue-grey-theme .related-posts a:hover,.blue-grey-theme .related-posts a:focus{color:rgba(43,90,172,0.87)}.highlight{margin-bottom:1rem;border-radius:4px}.highlight pre{margin-bottom:0}.highlight .hll{background-color:#ffc}.highlight .c{color:#408080}.highlight .err{border:1px solid red}.highlight .k{color:#008000;font-weight:700}.highlight .o{color:#666}.highlight .cm{color:#408080;font-style:italic}.highlight .cp{color:#BC7A00}.highlight .c1{color:#408080;font-style:italic}.highlight .cs{color:#408080;font-style:italic}.highlight .gd{color:#A00000}.highlight .ge{font-style:italic}.highlight .gr{color:red}.highlight .gh{color:#000080;font-weight:700}.highlight .gi{color:#00A000}.highlight .go{color:gray}.highlight .gp{color:#000080;font-weight:700}.highlight .gs{font-weight:700}.highlight .gu{color:#800080;font-weight:700}.highlight .gt{color:#0040D0}.highlight .kc{color:#008000;font-weight:700}.highlight .kd{color:#008000;font-weight:700}.highlight .kn{color:#008000;font-weight:700}.highlight .kp{color:green}.highlight .kr{color:#008000;font-weight:700}.highlight .kt{color:#B00040}.highlight .m{color:#666}.highlight .s{color:#BA2121}.highlight .na{color:#7D9029}.highlight .nb{color:green}.highlight .nc{color:#0000FF;font-weight:700}.highlight .no{color:#800}.highlight .nd{color:#a2f}.highlight .ni{color:#999999;font-weight:700}.highlight .ne{color:#D2413A;font-weight:700}.highlight .nf{color:blue}.highlight .nl{color:#A0A000}.highlight .nn{color:#0000FF;font-weight:700}.highlight .nt{color:#008000;font-weight:700}.highlight .nv{color:#19177C}.highlight .ow{color:#AA22FF;font-weight:700}.highlight .w{color:#bbb}.highlight .mf{color:#666}.highlight .mh{color:#666}.highlight .mi{color:#666}.highlight .mo{color:#666}.highlight .sb{color:#BA2121}.highlight .sc{color:#BA2121}.highlight .sd{color:#BA2121;font-style:italic}.highlight .s2{color:#BA2121}.highlight .se{color:#BB6622;font-weight:700}.highlight .sh{color:#BA2121}.highlight .si{color:#BB6688;font-weight:700}.highlight .sx{color:green}.highlight .sr{color:#b68}.highlight .s1{color:#BA2121}.highlight .ss{color:#19177C}.highlight .bp{color:green}.highlight .vc{color:#19177C}.highlight .vg{color:#19177C}.highlight .vi{color:#19177C}.highlight .il{color:#666}        </style>

        <link rel="apple-touch-icon" sizes="57x57" href="/apple-touch-icon-57x57.png">
        <link rel="apple-touch-icon" sizes="60x60" href="/apple-touch-icon-60x60.png">
        <link rel="apple-touch-icon" sizes="72x72" href="/apple-touch-icon-72x72.png">
        <link rel="apple-touch-icon" sizes="76x76" href="/apple-touch-icon-76x76.png">
        <link rel="apple-touch-icon" sizes="114x114" href="/apple-touch-icon-114x114.png">
        <link rel="apple-touch-icon" sizes="120x120" href="/apple-touch-icon-120x120.png">
        <link rel="apple-touch-icon" sizes="144x144" href="/apple-touch-icon-144x144.png">
        <link rel="apple-touch-icon" sizes="152x152" href="/apple-touch-icon-152x152.png">
        <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon-180x180.png">
        <link rel="icon" type="image/png" href="/favicon-32x32.png" sizes="32x32">
        <link rel="icon" type="image/png" href="/android-chrome-192x192.png" sizes="192x192">
        <link rel="icon" type="image/png" href="/favicon-96x96.png" sizes="96x96">
        <link rel="icon" type="image/png" href="/favicon-16x16.png" sizes="16x16">
        <link rel="manifest" href="/manifest.json">
        <meta name="msapplication-TileColor" content="#607d8b">
        <meta name="msapplication-TileImage" content="/mstile-144x144.png">
        <meta name="theme-color" content="#607d8b">

        <script>
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
            ga('create', 'UA-33031883-4', 'auto');

            ga('send', 'pageview', {
                page: location.pathname + location.search
            });
        </script>
    </head>

    <body class="blue-grey-theme">
        <div class="sidebar">
            <div class="container sidebar-sticky">
                <div class="sidebar-about">
                    <h1>
                        <a href="/">
<svg class="logo" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 200 350" version="1.1"><g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"><path d="M200 305L200 260C200 227.2 185.7 197.8 163 177.7 185.6 159.4 200 131.4 200 100 200 44.8 155.2 0 100 0L50 0 0 0 0 25 0 50 100 50C127.6 50 150 72.4 150 100 150 127.6 127.6 150 100 150L0 150 0 200 95 200C125.4 200 150 224.6 150 255L150 345C150 346.7 149.9 348.4 149.8 350L174.9 350 200 350 200 305 200 305ZM0 150L50 150 50 200 0 200 0 150Z" fill="#FFFFFF" opacity="0.9"/></g></svg>                        </a>
                    </h1>
                    <p class="tagline lead">Renzo Lucioni's personal website and portfolio.</p>
                </div>

                <input type="checkbox" id="menu-icon">
                <label class="menu-label" for="menu-icon"></label>

                <div class="collapsable">
                    <nav class="sidebar-nav">
                        <a class="sidebar-nav-item" href="/">Home</a>

                        <a class="sidebar-nav-item" href="/about">About</a>

                        <a class="sidebar-nav-item" href="/projects">Projects</a>

                        <a class="sidebar-nav-item profile outbound" href="https://github.com/rlucioni">GitHub</a>
                    </nav>
                </div>

                <p class="copyright">&copy; 2013&ndash;2018 Renzo Lucioni</p>
            </div>
        </div>

        <div class="content container">
<div class="post">
    <h1 class="post-title">Water in&nbsp;California</h1>
    <span class="post-date">March 20, 2014</span>
    <p>Serving over 30 million people, irrigating more than 5.6 million acres of farmland, and carrying approximately 49 billion cubic meters of water every year, California’s interconnected water system is the world’s largest and most productive.<sup><a href="http://en.wikipedia.org/wiki/Water_in_California">1</a></sup> Lacking reliable dry season rainfall and boasting the largest population of any <span class="caps">US</span> state, water is especially limited in California. As a result, water and water rights have become issues of tremendous importance in the&nbsp;state.</p>
<p>California is currently coming off of its warmest winter on record, aggravating an enduring, three-year dry spell that threatens to have devastating effects on the state and beyond. Several small communities are at risk of running out of drinking water, and farmers are considering idling a half million acres of farmland, a loss of production that could cause billions of dollars in economic damage.<sup><a href="http://www.reuters.com/article/2014/03/18/us-usa-california-drought-idUSBREA2H03720140318">2</a></sup></p>
<p>While I read about it in the news often, I&#8217;ve had trouble putting the situation in California in context. I made this to help me do&nbsp;so.</p>
<p><img alt="Graph of historical water supplies in California" src="/images/california-water.png"></p>
<p>Storage, measured here in cubic meters (although typically measured in acre-feet), is defined as the amount of water naturally detained in drainage basins and artificially impounded in surface or underground reservoirs, reserved for future use.<sup><a href="http://water.usgs.gov/wsc/glossary.html">3</a></sup> Every layer in the stacked area graph represents a distinct reservoir. Note that Lake Mead and Lake Powell are not in California; the former is located between Nevada and Arizona while the latter is located between Arizona and Utah. California maintains large, virtual &#8220;water banks&#8221; in each of these reservoirs, making withdrawals as needed.<sup><a href="http://www.reviewjournal.com/news/california-will-tap-its-water-bank-even-lake-mead-shrinks">4</a></sup></p>
<p>Declines (i.e., series of increasingly deeper troughs) in the stacked area graph align with California&#8217;s most recent multi-year droughts of large-scale extent. These droughts stretch from 1959 to 1962, from 1976 to 1977, from 1987 to 1992, from 2000 to 2002, from 2007 to 2009, and from roughly 2011 to the present.<sup><a href="http://www.water.ca.gov/waterconditions/docs/Drought2012.pdf">5</a></sup> The thicknesses of the area graph&#8217;s layers illustrate the toll these successive droughts and an increasing population have taken on each reservoir the state&nbsp;uses.</p>
<p>Observing these drastic declines in the state&#8217;s water supply is eye-opening in its own regard, but comparing the state&#8217;s population to the water supply during each of these droughts takes it to another level. For example, compare the population and water supply during the 1976-1977 drought. Now compare the current population and water supply. This exercise does a good job of putting the severity of the current situation in&nbsp;context.</p>
<p>In order to create this graph, I first used <a href="http://www.crummy.com/software/BeautifulSoup/">Beautiful Soup</a> to scrape every end-of-month reservoir storage measurement provided by the <a href="http://cdec.water.ca.gov/misc/monthly_res.html">California Department of Water Resources</a> (<span class="caps">DWR</span>) for each of California&#8217;s 191 reservoirs. Using D3, I then created the stacked area graph you see in the visualization. The layers are colored by hashing each reservoir&#8217;s unique 3-letter identifier to a hex color code, a technique inspired by Fernanda Viégas and Martin Wattenberg&#8217;s <a href="http://hint.fm/projects/historyflow/">History Flow</a> project, designed for visualizing Wikipedia edits. The <span class="caps">DWR</span>&#8217;s data is most complete beginning in July 1957, a year after the department was created, which is why I chose to begin the area graph there.<sup><a href="http://en.wikipedia.org/wiki/California_Department_of_Water_Resources">6</a></sup> Finally, I used data from the <a href="http://bit.ly/1fIErIw">Google Public Data Explorer</a> to plot California&#8217;s population over the area&nbsp;graph.</p>
<p>My code and all associated data are available on <a href="https://github.com/rlucioni/viz/tree/master/water">GitHub</a>.</p>
<p>A modified version of this visualization, shown below, was published by <em>The Economist</em> in an article on its <a href="http://www.economist.com/blogs/graphicdetail/2014/04/daily-chart-10">Graphic Detail</a>&nbsp;blog.</p>
<p><a href="http://www.economist.com/blogs/graphicdetail/2014/04/daily-chart-10"><img alt="Graph of historical water supplies in California from The Economist" src="/images/california-water-economist.png"></a></p>
    <span class="coffee">
        Was this helpful? <a class="outbound" href="https://www.paypal.me/rlucioni/3">Buy me a coffee!</a>
    </span>
</div>

<div class="related">
    <h2>Related Posts</h2>
    <ul class="related-posts">
        <li>
            <h3>
                <a href="/marijuana-prices/">
                    Marijuana Prices in the United&nbsp;States
                    <small>January 1, 2014</small>
                </a>
            </h3>
        </li>
        <li>
            <h3>
                <a href="/supercomputing-power/">
                    Supercomputing&nbsp;Power
                    <small>December 22, 2013</small>
                </a>
            </h3>
        </li>
    </ul>
</div>
        </div>

        <script>
            const pdfResumeLink = document.getElementById('pdf-resume-link');
            if (pdfResumeLink) {
                pdfResumeLink.addEventListener('click', event => {
                    ga('send', 'pageview', {
                        page: event.target.pathname,
                        transport: 'beacon'
                    });
                });
            }

            const outboundLinks = document.getElementsByClassName('outbound');
            for (const link of outboundLinks) {
                link.addEventListener('click', event => {
                    ga('send', 'event', {
                        eventCategory: 'outbound',
                        eventAction: 'click',
                        eventLabel: event.target.href,
                        transport: 'beacon'
                    });
                });
            }

            const emailLink = document.getElementById('email-link');
            if (emailLink) {
                emailLink.href = 'mailto:renzo@lucioni.xyz';
                emailLink.innerHTML = 'renzo@lucioni.xyz';
            }

        </script>
    </body>
</html>